<div th:fragment="content">
    <h2 th:text="${user.id != null ? 'Edit User' : 'Add New User'}">User Form</h2>
    <form th:action="${user.id != null} ? @{/admin/users/edit} : @{/admin/users/add}"
          method="post" th:object="${user}">
          <input type="hidden" th:field="*{id}" />
        <div class="form-group">
            <label for="username">Username</label>
            <input type="text" th:field="*{username}" required />
        </div>

        <div class="form-group" th:if="${user.id == null}">
            <label for="password">Password</label>
            <input type="password" th:field="*{password}" required />
        </div>

        <div class="form-group">
            <label for="role">Role</label>
            <select th:field="*{role}">
                <option th:value="ROLE_ADMIN">ADMIN</option>
                <option th:value="ROLE_USER">USER</option>
            </select>
        </div>

		        <div class="form-group">
		    <label for="enabled">Enabled</label>
		    <select id="enabled" th:field="*{enabled}" required>
		        <option th:value="true">Enabled</option>
		        <option th:value="false">Disabled</option>
		    </select>
		</div>

        <button type="submit" class="btn btn-primary">Save</button>
        <a th:href="@{/admin/users}" class="btn btn-secondary">Cancel</a>
    </form>
</div>